<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>PSUWIT Admin - Market Controller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
</head>
<body class="bg-slate-900 text-white flex flex-col items-center justify-center min-h-screen p-6">
    <div class="text-center mb-8">
        <h1 class="text-4xl font-black text-yellow-500 mb-2 uppercase">Market Master</h1>
        <p class="text-slate-400">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏õ‡∏µ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 40 ‡∏Ñ‡∏ô</p>
    </div>

    <div id="status-card" class="bg-slate-800 p-8 rounded-3xl border-4 border-dashed border-slate-700 w-full max-w-md text-center mb-8">
        <h2 id="year-text" class="text-xl font-bold text-slate-500 mb-1">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</h2>
        <p id="event-text" class="text-3xl font-black text-white uppercase">Waiting for Spin...</p>
    </div>

    <div class="grid grid-cols-2 gap-4 w-full max-w-md">
        <button onclick="updateMarket('BULL')" class="bg-green-600 hover:bg-green-500 p-6 rounded-2xl font-bold text-xl active:scale-95 transition">BULL MARKET üöÄ</button>
        <button onclick="updateMarket('CRASH')" class="bg-red-600 hover:bg-red-500 p-6 rounded-2xl font-bold text-xl active:scale-95 transition">MARKET CRASH üìâ</button>
        <button onclick="updateMarket('GOLD_WAR')" class="bg-yellow-600 hover:bg-yellow-500 p-6 rounded-2xl font-bold text-xl active:scale-95 transition">GOLD RUSH ‚öîÔ∏è</button>
        <button onclick="updateMarket('NORMAL')" class="bg-blue-600 hover:bg-blue-500 p-6 rounded-2xl font-bold text-xl active:scale-95 transition">NORMAL ‚öñÔ∏è</button>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDkewWSMrL538xerq70Ae90Svv8_p75Uks",
            authDomain: "psuwitwm.firebaseapp.com",
            databaseURL: "https://psuwitwm-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "psuwitwm",
            storageBucket: "psuwitwm.firebasestorage.app",
            messagingSenderId: "268031926990",
            appId: "1:268031926990:web:c58f8695deebf4a5f6e69f",
            measurementId: "G-3RNVWEJ4D4"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let currentYear = 0;

        function updateMarket(type) {
            currentYear++; // ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏Ñ‡∏∑‡∏≠ 1 ‡∏õ‡∏µ
            let config = { year: currentYear, event: "", multi: { psuwit: 1, btc: 1, gold: 1, save: 1 } };

            if(type === 'BULL') {
                config.event = "‡∏ï‡∏•‡∏≤‡∏î‡∏Ç‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á!";
                config.multi = { psuwit: 1.6, btc: 2.5, gold: 0.9, save: 1 };
            } else if(type === 'CRASH') {
                config.event = "‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à ‡∏ï‡∏•‡∏≤‡∏î‡∏•‡πà‡∏°‡∏™‡∏•‡∏≤‡∏¢!";
                config.multi = { psuwit: 0.4, btc: 0.2, gold: 0.8, save: 1 };
            } else if(type === 'GOLD_WAR') {
                config.event = "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÇ‡∏•‡∏Å! ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡∏û‡∏∏‡πà‡∏á x2";
                config.multi = { psuwit: 0.7, btc: 0.5, gold: 2.2, save: 1 };
            } else {
                config.event = "‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡∏ï‡∏•‡∏≤‡∏î‡∏õ‡∏Å‡∏ï‡∏¥";
                config.multi = { psuwit: 1.05, btc: 1.1, gold: 1.0, save: 1 };
            }

            // ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏õ Firebase ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 'market_state'
            db.ref('market_state').set(config);

            document.getElementById('year-text').innerText = "‡∏õ‡∏µ‡∏ó‡∏µ‡πà " + currentYear;
            document.getElementById('event-text').innerText = type;
        }
    </script>
</body>
</html>
